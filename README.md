This repository is written in MATLAB code, and has been tested in MATLAB version 2022a for windows.

To run the code, download it and navigate to the folder in your MATLAB path. Run the scripts named after each figure to generate the plots from each figure. 

Extended Data Figure 1:
This script compares a model based on the tiling pattern of the PFL1 neurons in the hemibrain and a model based on FLywire. It simulates the models for every combination of head and stored direction and compares the results.

Extended Data Figure 4:
This model compares the circuit model from the paper to a true coordinate transformation. It simulates the model over every combination of head and stored direction and compares the result to a true coordinate transformation.

Extended Data Figure 5:
This model compares three different versions of the circuit model using different activation functions. It simulates the models over every combination of head and stored direction. It simulates the response of a single neuron to a range of PB input given certain FB inputs for each activation function. Finally, it uses head direction data and the best fit stored direction from an example trial to simulate the models and compare the results.

The scripts take between 2-10 seconds to run on a system with an Intel i9-10900X CPU, 16GB of RAM, and an NVIDIA RTX A2000 GPU.

License: CC0 1.0 Universal
The person who associated a work with this deed has dedicated the work to the public domain by waiving all of his or her rights to the work worldwide under copyright law, including all related and neighboring rights, to the extent allowed by law.
You can copy, modify, distribute and perform the work, even for commercial purposes, all without asking permission.

